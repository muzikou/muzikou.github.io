移动互联网时代，用户对首屏加载的速度要求越来越高。优化其体验也是成为我们前端开发的必要工作之一。

从用户的角度而言，从输入完网址后到最后展现完整页面这个过程需要的时间越短，体验就越好。  
作为网页的开发者，就从输入url到页面渲染呈现这个过程中去提升网页的性能。

## 从输⼊ URL 到⻚⾯加载完成，发⽣了什么？

从前端的角度出发，尝试回答这个问题：

1. ⽤户输⼊网址，如 `baidu.com`
2. 浏览器通过 **`DNS`**，把 `url` 解析为 **`IP`**
3. 和 **`IP`** 地址建⽴ **`TCP`** 链接，发送 **`HTTP`** 请求
4. 服务器接收请求，查库，读⽂件等，拼接好返回的 **`HTTP`** 响应
5. 浏览器收到⾸屏 **`HTML`**，开始渲染
6. 解析 `HTML` 为 **``DOM``**
7. 解析 `CSS` 为 **`css-tree`**
8. **`DOM + CSS`** ⽣成 **`render-tree`** 绘图
9. 加载 **`Script`** 的 **`JS`** ⽂件
10. 执⾏ **`JS`**

所谓性能优化，就是上⾯的步骤加⼀起，时间尽可能的短，所以基本也有两⼤⽅向：

+ [**文件获取优化**](/perOpt/render.md)
+ [**代码执行优化**](/perOpt/code.md)

> 对于以上步骤中的内容，作补充说明：  
> + DNS(域名系统)  
>       1. 查看 DNS 缓存  
>       2. 本地没缓存，发起 DNS 请求，向本地配置的 DNS 服务器发请求(递归)  
>       3.  优化： prefetch 预获取，⽐如使⽤了cdn的域名
>       ![cdn](/img/perOpt/cdn.png)
>
> + IP、TCP、HTTP的关系  
>       1. IP 协议（寻址）  
>       2. IP 协议之上，使用 TCP 来确保数据的完整有序，或使用 UDP （传输层 ）  
>       3. TCP 协议之上，HTTP 应用层,负责应用层数据，数据终止时机


